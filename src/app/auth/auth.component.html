<mat-card>
    <mat-card-content>
        <form  [formGroup]="authForm" (ngSubmit)="submitForm()">
            <h2>{{ title }}</h2>
            <fieldset [disabled]="isSubmitting">
                <mat-error *ngIf="error !== ''">
                    {{error}}
                </mat-error>
                <mat-form-field  *ngIf="authType === 'register'">
                    <input  matInput placeholder="Name" formControlName="name" type="text"  />
                </mat-form-field>

                <mat-form-field class="example-full-width">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName="email"  placeholder="Ex. pat@example.com">
                    <mat-hint>Errors appear instantly!</mat-hint>
                    <mat-error >
                        Please enter a valid email address
                    </mat-error>

                </mat-form-field>
                <mat-form-field>
                    <input matInput formControlName="password" type="password" placeholder="Password" name="password" required>
                    <mat-error>
                        Please provide a valid password
                    </mat-error>
                </mat-form-field>
                <mat-form-field *ngIf="authType === 'register'">
                    <input matInput formControlName="password_confirmation" type="password" placeholder="Confirm Password" name="confirm_password" required>
                    <mat-error>
                        Please provide a valid password
                    </mat-error>
                </mat-form-field>
                <button mat-raised-button color="primary" [disabled]="!authForm.valid">{{ title }}</button>
            </fieldset>

            <p>
                <a [routerLink]="['/login']" *ngIf="authType === 'register'">Have an account?</a>
                <a [routerLink]="['/register']" *ngIf="authType === 'login'">Need an account?</a>
            </p>

        </form>
    </mat-card-content>
</mat-card>